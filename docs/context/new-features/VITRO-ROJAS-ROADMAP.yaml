---
# Vitro Rojas - Historias de Usuario (Resumen Ejecutivo)
# Formato: GitHub Projects compatible
# Cliente: Vitro Rojas (Panamá)
# Fecha: 2025-10-27
# Versión: 1.0

title: "Vitro Rojas - Sprint 1 & Sprint 2 (16 Historias de Usuario)"
description: |
  Proyecto de transformación digital para Vitro Rojas: 
  Sistema completo de cotización on-demand con panel admin, 
  branding personalizado y nuevo flujo de estados.

client: "Vitro Rojas (Panamá)"
contact: "[contacto@vitrorojas.com]"
kickoff_date: "2025-10-27"
start_development: "2025-11-01"

sprints:
  sprint_1:
    title: "Sprint 1 - Funcionalidades Core"
    duration: "4 semanas"
    target_date: "2025-11-29"
    total_points: 44
    stories:
      - id: "US-001"
        title: "Configurar colores disponibles por modelo"
        points: 5
        epic: "Sistema de Colores"
        priority: "alta"
        labels: ["backend", "database", "feature"]
      
      - id: "US-002"
        title: "Seleccionar color en cotización del cliente"
        points: 3
        epic: "Sistema de Colores"
        priority: "alta"
        labels: ["frontend", "ui-ux", "feature"]
        depends_on: ["US-001"]
      
      - id: "US-006"
        title: "Configurar servicios como incluidos u opcionales"
        points: 5
        epic: "Servicios"
        priority: "alta"
        labels: ["backend", "pricing", "feature"]
      
      - id: "US-007"
        title: "Wizard minimalista para configurar ventana"
        points: 8
        epic: "Formulario"
        priority: "alta"
        labels: ["frontend", "ui-ux", "complex", "feature"]
        depends_on: ["US-001", "US-006"]
      
      - id: "US-010"
        title: "Botón de WhatsApp en catálogo y cotización"
        points: 2
        epic: "Comunicación"
        priority: "alta"
        labels: ["frontend", "ui-ux", "feature"]
      
      - id: "US-011"
        title: "Dashboard de cotizaciones para Admin/Comercial"
        points: 8
        epic: "Admin"
        priority: "alta"
        labels: ["backend", "frontend", "admin", "feature"]
      
      - id: "US-013"
        title: "Estado 'Estimado del Sistema' para cotizaciones"
        points: 3
        epic: "Estados de Cotización"
        priority: "alta"
        labels: ["backend", "database", "feature"]
      
      - id: "US-014"
        title: "Estado 'En Revisión Comercial'"
        points: 5
        epic: "Estados de Cotización"
        priority: "alta"
        labels: ["backend", "feature"]
      
      - id: "US-015"
        title: "Estado 'Enviada al Cliente' con versión final"
        points: 5
        epic: "Estados de Cotización"
        priority: "alta"
        labels: ["backend", "email", "pdf", "feature"]

  sprint_2:
    title: "Sprint 2 - Mejoras UX y Configuración"
    duration: "3 semanas"
    target_date: "2025-12-20"
    total_points: 21
    stories:
      - id: "US-003"
        title: "Simplificar campos de dirección en cotización"
        points: 2
        epic: "Dirección"
        priority: "media"
        labels: ["backend", "database", "feature"]
      
      - id: "US-004"
        title: "Indicar que transporte se calcula post-cotización"
        points: 1
        epic: "Transporte"
        priority: "media"
        labels: ["frontend", "ui-ux", "feature"]
      
      - id: "US-005"
        title: "Comercial agrega costo de transporte manualmente"
        points: 3
        epic: "Transporte"
        priority: "media"
        labels: ["backend", "feature"]
      
      - id: "US-008"
        title: "Campo ubicación de ventana en ítem"
        points: 2
        epic: "Formulario"
        priority: "media"
        labels: ["backend", "frontend", "feature"]
      
      - id: "US-009"
        title: "Configurar datos de branding del tenant"
        points: 5
        epic: "Branding"
        priority: "media"
        labels: ["backend", "admin", "feature"]
      
      - id: "US-012"
        title: "Asignar comercial a cotización"
        points: 5
        epic: "Admin"
        priority: "media"
        labels: ["backend", "frontend", "rbac", "feature"]
      
      - id: "US-016"
        title: "Configurar regiones/provincias por país"
        points: 3
        epic: "Multi-Tenant"
        priority: "media"
        labels: ["backend", "configuration", "feature"]

epics:
  - id: "epic-1"
    title: "Sistema de Colores para Modelos"
    description: "Configuración visual y selectores de color con recargos"
    stories: ["US-001", "US-002"]
    total_points: 8

  - id: "epic-2"
    title: "Simplificación de Dirección"
    description: "Reducción de campos para menor fricción"
    stories: ["US-003"]
    total_points: 2

  - id: "epic-3"
    title: "Gestión de Transporte"
    description: "Cálculo post-cotización y notas del comercial"
    stories: ["US-004", "US-005"]
    total_points: 4

  - id: "epic-4"
    title: "Servicios Incluidos vs Opcionales"
    description: "Flexibilidad en configuración de servicios"
    stories: ["US-006"]
    total_points: 5

  - id: "epic-5"
    title: "Simplificación del Formulario"
    description: "Wizard minimalista con 4 pasos"
    stories: ["US-007", "US-008"]
    total_points: 10

  - id: "epic-6"
    title: "Branding y Comunicación"
    description: "Personalización de logo, colores, redes sociales y WhatsApp"
    stories: ["US-009", "US-010"]
    total_points: 7

  - id: "epic-7"
    title: "Vista Admin de Cotizaciones"
    description: "Dashboard y gestión de cotizaciones"
    stories: ["US-011", "US-012"]
    total_points: 13

  - id: "epic-8"
    title: "Nuevo Flujo de Estados"
    description: "Máquina de estados: Estimado → Revisión → Enviado"
    stories: ["US-013", "US-014", "US-015"]
    total_points: 13

  - id: "epic-9"
    title: "Configuración Multi-Tenant"
    description: "Soporte para múltiples países y regiones"
    stories: ["US-016"]
    total_points: 3

success_metrics:
  quantitative:
    - metric: "Tiempo de cotización"
      current: "10 minutos"
      target: "3 minutos"
      unit: "minutos"
    
    - metric: "Tasa de conversión Budget → Quote"
      current: "42%"
      target: "55%"
      unit: "%"
    
    - metric: "Abandono en formulario"
      current: "35%"
      target: "15%"
      unit: "%"
    
    - metric: "Ticket promedio"
      current: "Base"
      target: "+12%"
      unit: "%"

  qualitative:
    - "Clientes entienden el proceso sin ayuda (SUS score 8/10+)"
    - "Comerciales reciben cotizaciones con contexto completo"
    - "Admin gestiona catálogo sin asistencia técnica"

performance_targets:
  pricing_engine: "<200ms"
  dashboard_load: "<2s (100 quotations)"
  pdf_generation: "<5s"
  email_notifications: "<1 minute"
  page_navigation: "<500ms"

technical_considerations:
  - category: "Backend"
    items:
      - "Refactor pricing engine para colores y servicios incluidos"
      - "Nueva máquina de estados para Quote"
      - "Índices DB para dashboard queries"
      - "Email service integration (Resend o similar)"
  
  - category: "Frontend"
    items:
      - "Componente Wizard multi-step con validaciones"
      - "Color picker y selector visual"
      - "Server-optimized table pattern (URL state)"
      - "Responsive design mobile-first"
  
  - category: "Database"
    items:
      - "Agregar tabla ModelColor (Many-to-Many)"
      - "Nuevos campos en Quote (transporte, regiones, estados)"
      - "Históricos de precios para audit trail"
      - "Índices para performance"
  
  - category: "DevOps"
    items:
      - "Feature flags para rollout gradual"
      - "Migración de datos (backward compatible)"
      - "Staging environment para testing"
      - "Monitoring de performance"

risks:
  - risk: "Complejidad del Wizard (8 puntos es optimista)"
    probability: "media"
    impact: "alto"
    mitigation: "Prototipo Figma previo + iteración rápida"
  
  - risk: "Degradación de performance con muchos colores"
    probability: "baja"
    impact: "medio"
    mitigation: "Lazy loading, caché, índices DB"
  
  - risk: "Migración de estados en datos existentes"
    probability: "media"
    impact: "alto"
    mitigation: "Script con rollback, test en staging"
  
  - risk: "Multi-tenant real no está implementado aún"
    probability: "alta"
    impact: "alto"
    mitigation: "Usar TenantConfig actual, planear v2.0"

constraints:
  - "Vitro Rojas es primer cliente real (configuración debe ser robusta)"
  - "Panamá es mercado piloto (adaptar después para Colombia/México)"
  - "Equipo: 1 desarrollador (timebox agresivo)"
  - "No hay ambiente staging dedicado (usar feature branches)"

timeline:
  week_1: "US-001, US-003, US-004 (backend setup)"
  week_2: "US-002, US-006 (pricing engine refactor)"
  week_3: "US-007 (wizard implementation)"
  week_4: "US-010, US-011, US-013-015 (UI + states)"
  week_5: "Sprint 2: US-005, US-008, US-009, US-012"
  week_6: "Sprint 2: US-016 (countries), testing + refinements"
  week_7: "QA, bug fixes, deployment prep"

deployment:
  strategy: "Feature flags + gradual rollout"
  environment: "Production (Vercel)"
  rollback_plan: "Feature flags to disable problematic features"
  monitoring: "Sentry errors, PostHog analytics, database metrics"

notes: |
  - Todas las historias tienen templates GitHub en `.github/ISSUE_TEMPLATE/vitro-rojas/`
  - Labels automáticos: vitro-rojas, [sprint], [priority], [category]
  - Usar GitHub Projects board para tracking visual
  - Sync con cliente: reunión semanal (viernes 2pm CT)
  - Changelog actualizado con cada merge
  - Documentación técnica después de cada épica

---

## Cómo Importar a GitHub Projects

1. **Crear nuevo proyecto**: "Vitro Rojas v1"
2. **Configurar vistas**: Backlog, Sprint 1, Sprint 2, In Progress, Review, Done
3. **Auto-label**: Issues con `vitro-rojas` se asignan al proyecto
4. **Estimaciones**: Usar custom field "Story Points"
5. **Tracking**: Status updates diarios en comentarios

next_steps:
  - "Aprobación de historias (Vitro Rojas)"
  - "Setup de GitHub Project + labels"
  - "Crear issues desde templates"
  - "Planificación detallada de Sprint 1"
  - "Kick-off meeting (dev team + Vitro Rojas)"
  - "Inicio desarrollo (2025-11-01)"
